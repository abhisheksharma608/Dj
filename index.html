<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shop Order System</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background-color: #111; color: #fff; }
    .container { max-width: 1000px; margin: auto; padding: 20px; }
    h1, h2 { text-align: center; }
    .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
    .product { background-color: #fff; color: #000; padding: 20px; border-radius: 8px; text-align: center; }
    .product img { width: 100%; height: auto; border-radius: 8px; }
    .product button, .checkout-btn, .place-order-btn {
      background-color: #444; color: white; border: none; padding: 10px 15px;
      margin-top: 10px; cursor: pointer; border-radius: 5px;
    }
    .cart, .checkout-form, .order-summary { margin-top: 30px; background-color: #222; padding: 20px; border-radius: 8px; }
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; margin-bottom: 5px; }
    .form-group input, .form-group textarea, .form-group select {
      width: 100%; padding: 10px; border-radius: 5px; border: none; outline: none;
    }
    .summary-details p { margin: 8px 0; }
    .payment-buttons { display:flex; gap:10px; justify-content:center; margin-top:15px; flex-wrap:wrap; }
    .pay-btn {
      padding:10px 14px; border-radius:8px; border:none; color:white; cursor:pointer; font-weight:600;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .gpay { background: linear-gradient(90deg,#00a8ff,#0066ff); }
    .phonepe { background: linear-gradient(90deg,#7b2ff7,#b040ff); }
    .paytm { background: linear-gradient(90deg,#00b894,#00cec9); }
    .qr-block { text-align:center; margin-top:20px; }
    .hidden { display:none; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Shop Products</h1>
    <div class="products" id="product-list"></div>
    <div class="cart">
      <h2>Your Cart</h2>
      <div id="cart-items">No items in cart.</div>
      <h3 id="cart-total"></h3>
      <button class="checkout-btn" onclick="showCheckoutForm()">Checkout</button>
    </div>
    <div class="checkout-form" id="checkout-form" style="display:none;">
      <h2>Checkout Form</h2>
      <form onsubmit="return submitForm(event)">
        <div class="form-group">
          <label for="name">Name:</label>
          <input type="text" id="name" required>
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" required>
        </div>
        <div class="form-group">
          <label for="address">Address:</label>
          <textarea id="address" required></textarea>
        </div>
        <div class="form-group">
          <label for="phone">Phone:</label>
          <input type="text" id="phone" required>
        </div>
        <div class="form-group">
          <label for="payment-method">Payment Method:</label>
          <select id="payment-method" required>
            <option value="">-- Select --</option>
            <option value="Online Payment">Online Payment</option>
            <option value="Cash Payment">Cash Payment</option>
          </select>
        </div>
        <div id="online-payment-area" class="hidden">
          <div class="payment-buttons">
            <button type="button" class="pay-btn gpay" onclick="payWith('gpay')">Pay with GPay</button>
            <button type="button" class="pay-btn phonepe" onclick="payWith('phonepe')">Pay with PhonePe</button>
            <button type="button" class="pay-btn paytm" onclick="payWith('paytm')">Pay with Paytm</button>
          </div>
          <div id="qr-code" class="qr-block" style="display:none;">
            <h3>Scan to Pay</h3>
            <img src="qr.png" alt="UPI QR Code" style="width:200px; height:auto;">
            <p style="margin-top: 10px;"><strong>UPI ID:</strong> abhisheksharma60884@okhdfcbank</p>
          </div>
        </div>
        <button class="place-order-btn" type="submit">Place Order</button>
      </form>
    </div>
    <div id="order-summary" class="order-summary" style="display: none;">
      <h2>Order Summary</h2>
      <div class="summary-details" id="summary-content"></div>
    </div>
  </div>
  <script>
    const products = [
      { id: 1, name: 'Laptop', price: 29999, image: 'https://via.placeholder.com/250x150?text=Laptop' },
      { id: 2, name: 'Backpack', price: 4999, image: 'https://via.placeholder.com/250x150?text=Backpack' },
      { id: 3, name: 'Phone', price: 15000, image: 'https://via.placeholder.com/250x150?text=Phone' },
      { id: 4, name: 'Art Frame', price: 3999, image: 'https://via.placeholder.com/250x150?text=Art+Frame' }
    ];
    const cart = {};
    const UPI_ID = "abhisheksharma60884@okhdfcbank";
    const MERCHANT_NAME = "Shop+Store";
    function renderProducts() {
      const list = document.getElementById('product-list');
      list.innerHTML = '';
      products.forEach(p => {
        const div = document.createElement('div');
        div.className = 'product';
        div.innerHTML = `<img src="${p.image}" alt="${p.name}" /><h3>${p.name}</h3><p>₹${p.price}</p><button onclick="addToCart(${p.id})">Add to Cart</button>`;
        list.appendChild(div);
      });
    }
    function addToCart(id) { cart[id] = (cart[id] || 0) + 1; updateCart(); }
    function updateCart() {
      const items = document.getElementById('cart-items');
      items.innerHTML = ''; let total = 0;
      for (let id in cart) { const p = products.find(prod => prod.id == id); const qty = cart[id];
        const subtotal = p.price * qty; const line = document.createElement('div');
        line.textContent = `${qty} x ${p.name} = ₹${subtotal}`; items.appendChild(line); total += subtotal; }
      if (Object.keys(cart).length === 0) items.innerHTML = "No items in cart.";
      document.getElementById('cart-total').innerText = total > 0 ? `Total: ₹${total}` : '';
    }
    function showCheckoutForm() {
      if (Object.keys(cart).length === 0) { alert("Your cart is empty!"); return; }
      document.getElementById('checkout-form').style.display = 'block'; window.scrollTo(0, document.body.scrollHeight);
    }
    document.getElementById('payment-method').addEventListener('change', function () {
      const method = this.value, area = document.getElementById('online-payment-area'), qr = document.getElementById('qr-code');
      if (method === "Online Payment") { area.classList.remove('hidden'); qr.style.display = 'block'; }
      else { area.classList.add('hidden'); qr.style.display = 'none'; }
    });
    function getCartTotalValue() { let total = 0; for (let id in cart) { const p = products.find(prod => prod.id == id); total += p.price * cart[id]; } return total; }
    function payWith(app) {
      const amount = getCartTotalValue(); if (!amount || amount <= 0) { alert("Cart total invalid. Add items to cart."); return; }
      const pa = encodeURIComponent(UPI_ID), pn = encodeURIComponent(MERCHANT_NAME), am = encodeURIComponent(amount.toString()), cu = "INR";
      const upiURI = `upi://pay?pa=${pa}&pn=${pn}&am=${am}&cu=${cu}`; window.location.href = upiURI;
    }
    function submitForm(event) {
      event.preventDefault(); const name = document.getElementById('name').value, email = document.getElementById('email').value,
      address = document.getElementById('address').value, phone = document.getElementById('phone').value, payment = document.getElementById('payment-method').value;
      if (payment === "Online Payment") { const paid = confirm("Have you completed the online payment?"); if (!paid) { alert("❌ Payment not confirmed."); return false; } }
      let total = 0; const summary = []; for (let id in cart) { const p = products.find(prod => prod.id == id); summary.push(`${cart[id]} x ${p.name}`); total += p.price * cart[id]; }
      const summaryHTML = `<p><strong>Name:</strong> ${name}</p><p><strong>Email:</strong> ${email}</p><p><strong>Phone:</strong> ${phone}</p><p><strong>Address:</strong> ${address}</p><p><strong>Payment Method:</strong> ${payment}</p><p><strong>Total Price:</strong> ₹${total}</p>`;
      let orderSummaries = JSON.parse(localStorage.getItem("orderSummaries") || "[]"); orderSummaries.push(summaryHTML);
      localStorage.setItem("orderSummaries", JSON.stringify(orderSummaries));
      alert("✅ Order placed successfully!"); document.getElementById("summary-content").innerHTML += "<hr>" + summaryHTML;
      document.getElementById("order-summary").style.display = 'block'; document.querySelector("form").reset(); for (let id in cart) delete cart[id]; updateCart();
    }
    renderProducts();
  </script>
</body>
</html>